{% extends "base.html" %}

{% block title %}Fixbulance - Mobile Phone Repair Service in Orland Park, IL{% endblock %}

{% block styles %}
<style>
    .hero-section {
        background: linear-gradient(135deg, var(--navy) 0%, var(--light-navy) 100%);
        color: var(--white);
        padding: 4rem 0;
        margin-bottom: 3rem;
    }
    
    .hero-content h1 {
        color: var(--white);
        font-size: 3rem;
        font-weight: 800;
        margin-bottom: 1rem;
    }
    
    .hero-content .lead {
        font-size: 1.25rem;
        margin-bottom: 2rem;
        opacity: 0.95;
    }
    
    .emergency-badge {
        background-color: var(--red);
        color: var(--white);
        padding: 0.5rem 1rem;
        border-radius: 25px;
        font-weight: 600;
        display: inline-block;
        margin-bottom: 1rem;
        animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
        0% { box-shadow: 0 0 0 0 rgba(220, 38, 38, 0.7); }
        70% { box-shadow: 0 0 0 10px rgba(220, 38, 38, 0); }
        100% { box-shadow: 0 0 0 0 rgba(220, 38, 38, 0); }
    }
    
    .service-card {
        height: 100%;
        transition: all 0.3s ease;
        border: none;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    
    .service-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 25px rgba(0,0,0,0.15);
    }
    
    .device-icon {
        font-size: 3rem;
        color: var(--navy);
        margin-bottom: 1rem;
    }
    
    .stats-card {
        text-align: center;
        padding: 2rem 1rem;
        background: var(--light-gray);
        border-radius: 8px;
        margin: 1rem 0;
    }
    
    .stats-number {
        font-size: 2.5rem;
        font-weight: 800;
        color: var(--red);
        display: block;
    }
    
    .stats-label {
        color: var(--medium-gray);
        font-weight: 500;
        text-transform: uppercase;
        font-size: 0.875rem;
        letter-spacing: 0.5px;
    }
    
    .trust-indicators {
        background: var(--light-gray);
        padding: 2rem 0;
        margin: 3rem 0;
    }
    
    .trust-badge {
        text-align: center;
        padding: 1rem;
    }
    
    .trust-badge i {
        font-size: 2rem;
        color: var(--success);
        margin-bottom: 0.5rem;
    }
    
    .process-step {
        text-align: center;
        margin-bottom: 2rem;
    }
    
    .process-number {
        width: 60px;
        height: 60px;
        background: var(--red);
        color: var(--white);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
        font-weight: 700;
        margin: 0 auto 1rem;
    }
    
    .cta-section {
        background: var(--navy);
        color: var(--white);
        padding: 3rem 0;
        text-align: center;
        margin-top: 3rem;
    }
    
    .cta-section h3 {
        color: var(--white);
        margin-bottom: 1rem;
    }
    
    @media (max-width: 768px) {
        .hero-content h1 {
            font-size: 2rem;
        }
        
        .hero-section {
            padding: 2rem 0;
        }
    }
</style>
{% endblock %}

{% block content %}
<!-- Hero Section -->
<div class="hero-section">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-8">
                <div class="hero-content">
                    <div class="emergency-badge">
                        <i class="fas fa-ambulance me-2"></i>Emergency Phone Repairs
                    </div>
                    <h1>Your Phone's Emergency Service</h1>
                    <p class="lead">Professional mobile phone repair service in Orland Park, IL. We come to your location with our fully-equipped repair van.</p>
                    <div class="d-flex flex-wrap gap-3">
                        <a class="btn btn-primary btn-lg" href="{{ url_for('booking.start') }}">
                            <i class="fas fa-calendar-plus me-2"></i>Book Emergency Repair
                        </a>
                        <a class="btn btn-outline-light btn-lg" href="{{ url_for('main.service_area') }}">
                            <i class="fas fa-map-marker-alt me-2"></i>Check Service Area
                        </a>
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="row">
                    <div class="col-6">
                        <div class="stats-card">
                            <span class="stats-number">{{ total_services }}</span>
                            <span class="stats-label">Repair Services</span>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="stats-card">
                            <span class="stats-number">{{ covered_zip_codes }}</span>
                            <span class="stats-label">ZIP Codes Covered</span>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="stats-card">
                            <span class="stats-number">10</span>
                            <span class="stats-label">Mile Radius</span>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="stats-card">
                            <span class="stats-number">$15</span>
                            <span class="stats-label">Standard Deposit</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Trust Indicators -->
<div class="trust-indicators">
    <div class="container">
        <div class="row">
            <div class="col-lg-3 col-md-6">
                <div class="trust-badge">
                    <i class="fas fa-shield-alt"></i>
                    <h6>Licensed & Insured</h6>
                    <p class="small text-muted">Professional mobile repair service</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="trust-badge">
                    <i class="fas fa-clock"></i>
                    <h6>Same-Day Service</h6>
                    <p class="small text-muted">Quick turnaround times</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="trust-badge">
                    <i class="fas fa-award"></i>
                    <h6>Quality Guarantee</h6>
                    <p class="small text-muted">Warranty on all repairs</p>
                </div>
            </div>
            <div class="col-lg-3 col-md-6">
                <div class="trust-badge">
                    <i class="fas fa-map-marked-alt"></i>
                    <h6>Orland Park Local</h6>
                    <p class="small text-muted">Serving the community</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Device Repair Services -->
<div class="container">
    <div class="row">
        <div class="col-12 text-center mb-5">
            <h2>Choose Your Device for Emergency Repair</h2>
            <p class="lead text-muted">Select your device type to see available repair services and pricing</p>
        </div>
    </div>
    
    <div class="row">
        {% for device_type in device_types %}
            <div class="col-lg-4 col-md-6 mb-4">
                <div class="card service-card">
                    <div class="card-body text-center">
                        <div class="device-icon">
                            {% if device_type == 'iPhone' %}
                                <i class="fab fa-apple"></i>
                            {% elif device_type == 'Samsung' %}
                                <i class="fas fa-mobile-alt"></i>
                            {% else %}
                                <i class="fas fa-tablet-alt"></i>
                            {% endif %}
                        </div>
                        <h5 class="card-title">{{ device_type }} Repairs</h5>
                        {% if featured_services[device_type] %}
                            <ul class="list-unstyled mb-3">
                                {% for service in featured_services[device_type][:3] %}
                                    <li class="mb-1">
                                        <i class="fas fa-check text-success me-2"></i>
                                        {{ service.name }} - {{ service.price_range }}
                                    </li>
                                {% endfor %}
                            </ul>
                        {% else %}
                            <p class="text-muted">Professional repair services available</p>
                        {% endif %}
                        <a href="{{ url_for('booking.step2_service', device_type=device_type) }}" class="btn btn-primary">
                            <i class="fas fa-wrench me-2"></i>Select {{ device_type }}
                        </a>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
</div>

<!-- How It Works Process -->
<div class="container mt-5">
    <div class="row">
        <div class="col-12 text-center mb-5">
            <h2>How Fixbulance Works</h2>
            <p class="lead text-muted">Simple, professional mobile repair service in 5 easy steps</p>
        </div>
    </div>
    
    <div class="row">
        <div class="col-lg-2 col-md-4 col-6">
            <div class="process-step">
                <div class="process-number">1</div>
                <h6>Book Online</h6>
                <p class="small text-muted">Select device & describe issue</p>
            </div>
        </div>
        <div class="col-lg-2 col-md-4 col-6">
            <div class="process-step">
                <div class="process-number">2</div>
                <h6>Schedule Visit</h6>
                <p class="small text-muted">Choose convenient time</p>
            </div>
        </div>
        <div class="col-lg-2 col-md-4 col-6">
            <div class="process-step">
                <div class="process-number">3</div>
                <h6>We Come to You</h6>
                <p class="small text-muted">Repair van arrives on time</p>
            </div>
        </div>
        <div class="col-lg-2 col-md-4 col-6">
            <div class="process-step">
                <div class="process-number">4</div>
                <h6>Expert Repair</h6>
                <p class="small text-muted">Professional on-site service</p>
            </div>
        </div>
        <div class="col-lg-2 col-md-4 col-6">
            <div class="process-step">
                <div class="process-number">5</div>
                <h6>Pay & Go</h6>
                <p class="small text-muted">Simple payment, warranty included</p>
            </div>
        </div>
    </div>
</div>

<!-- Service Area Check -->
<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="card">
                <div class="card-header text-center bg-light">
                    <h5 class="mb-0">
                        <i class="fas fa-map-marker-alt text-primary me-2"></i>
                        Check if Fixbulance Serves Your Area
                    </h5>
                </div>
                <div class="card-body">
                    <p class="text-center text-muted mb-4">We provide emergency mobile repair services within a 10-mile radius of Orland Park, IL</p>
                    <form class="row g-3 justify-content-center">
                        <div class="col-auto">
                            <input type="text" class="form-control form-control-lg" placeholder="Enter ZIP code (e.g., 60462)" id="zipCheck" style="width: 250px;">
                        </div>
                        <div class="col-auto">
                            <button type="button" class="btn btn-primary btn-lg" onclick="checkZip()">
                                <i class="fas fa-search me-2"></i>Check Coverage
                            </button>
                        </div>
                    </form>
                    <div id="zipResult" class="mt-3"></div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Call to Action -->
<div class="cta-section">
    <div class="container">
        <div class="row justify-content-center text-center">
            <div class="col-lg-8">
                <h3>Ready for Emergency Phone Repair?</h3>
                <p class="lead mb-4">Join hundreds of satisfied customers in Orland Park who trust Fixbulance for their mobile device emergencies.</p>
                <a class="btn btn-primary btn-lg me-3" href="{{ url_for('booking.start') }}">
                    <i class="fas fa-ambulance me-2"></i>Book Emergency Repair Now
                </a>
                <a class="btn btn-outline-light btn-lg" href="tel:+1234567890">
                    <i class="fas fa-phone me-2"></i>Call Now
                </a>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
async function checkZip() {
    const zipCode = document.getElementById('zipCheck').value.trim();
    const resultDiv = document.getElementById('zipResult');
    
    if (!zipCode) {
        resultDiv.innerHTML = '<div class="alert alert-warning text-center"><i class="fas fa-exclamation-triangle me-2"></i>Please enter a ZIP code</div>';
        return;
    }
    
    // Show loading state
    resultDiv.innerHTML = '<div class="text-center"><i class="fas fa-spinner fa-spin me-2"></i>Checking coverage...</div>';
    
    try {
        const response = await fetch('/api/validate-zip', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({ zip_code: zipCode })
        });
        
        const data = await response.json();
        
        if (data.valid) {
            resultDiv.innerHTML = `
                <div class="alert alert-success text-center">
                    <i class="fas fa-check-circle me-2"></i>
                    <strong>Great news!</strong> ${data.message}
                    <div class="mt-2">
                        <a href="{{ url_for('booking.start') }}" class="btn btn-primary">Book Repair Now</a>
                    </div>
                </div>
            `;
        } else {
            resultDiv.innerHTML = `
                <div class="alert alert-warning text-center">
                    <i class="fas fa-exclamation-circle me-2"></i>
                    ${data.message}
                    <div class="mt-2 small text-muted">
                        We're always expanding our service area. Contact us to check if we can make an exception!
                    </div>
                </div>
            `;
        }
    } catch (error) {
        resultDiv.innerHTML = `
            <div class="alert alert-danger text-center">
                <i class="fas fa-times-circle me-2"></i>
                Error checking ZIP code. Please try again or contact us directly.
            </div>
        `;
    }
}

// Auto-check ZIP on Enter key
document.getElementById('zipCheck').addEventListener('keypress', function(e) {
    if (e.key === 'Enter') {
        e.preventDefault();
        checkZip();
    }
});
</script>
{% endblock %} 